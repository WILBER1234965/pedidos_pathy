<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acceso Administrador – Modas Pathy</title>
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon.ico') }}" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}" />
</head>
<body>
  <div class="background">
    <div class="circle" style="width:80px; height:80px; top:15%; left:20%; animation-duration:7s;"></div>
    <div class="circle" style="width:100px; height:100px; top:60%; left:10%; animation-duration:8s;"></div>
    <div class="circle" style="width:50px; height:50px; top:30%; left:75%; animation-duration:6s;"></div>
    <div class="circle" style="width:120px; height:120px; top:75%; left:65%; animation-duration:9s;"></div>
    <div class="circle" style="width:60px; height:60px; top:50%; left:50%; animation-duration:7.5s;"></div>
  </div>

  <div class="login-container">
    <h2>Acceso Administrador</h2>
    <form method="POST" action="{{ url_for('login') }}">
      {{ form.hidden_tag() }}
      <div class="input-group mb-4">
        <span class="input-group-text"><i class="fas fa-user"></i></span>
        {{ form.username(class="form-control", placeholder="Usuario") }}
      </div>
      <div class="input-group mb-4">
        <span class="input-group-text"><i class="fas fa-lock"></i></span>
        {{ form.password(id="password", class="form-control", placeholder="Contraseña", type="password") }}
        <span class="input-group-text toggle-password" id="togglePassword">
          <i class="fas fa-eye"></i>
        </span>
      </div>
      <div class="d-grid">
        <button type="submit" class="btn btn-login w-100">Ingresar</button>
      </div>
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="mt-3">
            {% for category, mensaje in messages %}
              <div class="alert alert-{{ category }} alert-dismissible fade show">
                {{ mensaje }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
              </div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/login.js') }}"></script>
</body>
</html>
